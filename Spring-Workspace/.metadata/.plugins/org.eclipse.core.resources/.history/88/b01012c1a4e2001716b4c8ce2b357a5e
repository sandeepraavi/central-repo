package com.firstSpring.controller;

import java.util.Map;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.servlet.ModelAndView;

import beans.Student;

@Controller
public class StudentAdmissionController {
	@RequestMapping(value = "/admissionForm.html", method = RequestMethod.GET)
	public ModelAndView getAdmissionForm() {
		ModelAndView modelAndView = new ModelAndView("AdmissionForm");
		return modelAndView;
	}
	@RequestMapping(value = "/submitAdmissionForm.html", method = RequestMethod.POST)
	//the request param values are taken from the UI from the elements with the name attributes and if the user did not provide the values the default values are printed
	public ModelAndView submitAdmissionForm(@RequestParam(value="studentName", defaultValue="Admin") String name, @RequestParam("studentHobby") String hobby) {
		ModelAndView modelAndView = new ModelAndView("AdmissionSuccess");
		modelAndView.addObject("msg", "Details submitted by "+name+" and the hobby :"+ hobby );
		modelAndView.addObject("name", name );
		return modelAndView;
	}
	/*//If there are multiple req params we can use a map to store and retrieve all the params
	@RequestMapping(value = "/submitAdmissionForm.html", method = RequestMethod.POST)
	public ModelAndView submitMethod(@RequestParam Map<String, String> reqParams ) {
		ModelAndView modelAndView = new ModelAndView("AdmissionSuccess");
		String name = reqParams.get("studentName");
		String hobby = reqParams.get("studentHobby");
		modelAndView.addObject("msg", "Details submitted by "+name+" and the hobby :"+ hobby );
		modelAndView.addObject("name", name );
		return modelAndView;
	}*/
	
	@RequestMapping(value = "/submitAdmissionForm1.html", method = RequestMethod.POST)
	public ModelAndView submitMethod1(@RequestParam Map<String, String> reqParams ) {
		ModelAndView modelAndView = new ModelAndView("AdmissionSuccess");
		Student student = new Student();
		student.setName(reqParams.get("studentName"));
		student.setHobby(reqParams.get("studentHobby"));
		modelAndView.addObject("msg", "Displaying with the help of student bean object and Form 1" );
		modelAndView.addObject("student", student );
		return modelAndView;
	}
}
